{% set scripts = [
  "/lib/moment-2.22.2.min.js",
  "/main.js",
] -%}

{% extends "base_within_city.html" %}

{% block contents %}
<div class="row d-lg-none">
  <div class="col">
    <div class="sp-advertisement">
      <p>Publicité</p>
      <p><img class="img-fluid" src="/ads/468x60-banner.png" /></p>
    </div>
  </div>
</div>

<div class="row">
  <div class="col">
    <h1>Semaine du {{ displayed_week.start_date|format_date }}</h1>

    <div class="row">
      <div class="col">
        <p class="text-right"><a class="sp-previous-week-link" href="/">&lt; Semaine précédente</a></p>
      </div>
      <div class="col">
        <p class="text-center"><a class="sp-now-week-link" href="/">Cette semaine</a></p>
      </div>
      <div class="col">
        <p class="text-left"><a class="sp-next-week-link" href="/">Semaine suivante &gt;</a></p>
      </div>
    </div>
  </div>

  <div class="col-lg-3 col-xl-2 d-none d-lg-inline-block">
    <div class="sp-advertisement">
      <p>Publicité</p>
      <p><img class="img-fluid" src="/ads/160x600-wide-skyscraper.png" /></p>
    </div>
  </div>
</div>
{% endblock %}

{% block script %}
<script>
  $(function() {
    Splight.initialize({
      city: {
        slug: "{{ city.slug }}",
      },
      first_week: {
        start_date: moment("{{ first_week.start_date }}"),
      },
      week_after: {
        start_date: moment("{{ week_after.start_date }}"),
      },
      displayed_week: {
        start_date: moment("{{ displayed_week.start_date }}"),
      },
    });
  });
</script>
{% endblock %}
